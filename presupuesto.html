<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Center Hogar Quilmes</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="images/logo.webp" type="image/x-icon">
</head>
<body>
    <!-- Header -->
        <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="images/logo_trans.png" alt="Center Hogar Quilmes" class="logo-img">
                    </a>
                </div>
                <div class="header-actions">
                    <button class="menu-toggle" aria-label="Abrir menú de navegación">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="header-contact">
                    <div class="contact-item">
                        <p><a href="https://api.whatsapp.com/send?phone=5491131680489&text=Hola,%20tengo%20una%20consulta" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="contact-icon">
                                <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                            </svg>
                            11 3168-0489
                        </a></p>
                </div>
                <div class="contact-item">
                    <p><a href="https://maps.app.goo.gl/MGt4KohJ75XAGDWn8" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="contact-icon">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                        Rivadavia 220
                        </a></p>
                </div>
                
        </div>
    </div>
    
            <div class="search-bar">
                <div class="search-bar-input-container">
                    <input type="text" placeholder="Buscar productos..." id="searchInput" autocomplete="off">
                    <button class="search-btn">
                        <img src="images/lupa.png" alt="Buscar" class="search-icon">
                    </button>
                </div>
                <div class="suggestions" id="suggestions" style="display: none;"></div>
            </div>
            <nav class="nav-menu" id="nav-menu">
    <ul>
        <li class="has-submenu">
            <a href="categoria.html?nombre=Cocinas, anafes y purificadores">Cocina, anafes y purificadores</a>
            <ul class="submenu">
                <li><a href="categoria.html?nombre=Cocinas, anafes y purificadores&subcategoria=Cocinas">Cocinas</a></li>
                <li><a href="categoria.html?nombre=Cocinas, anafes y purificadores&subcategoria=Anafes">Anafes</a></li>
                <li><a href="categoria.html?nombre=Cocinas, anafes y purificadores&subcategoria=Purificadores">Purificadores</a></li>
            </ul>
        </li>
        <li><a href="categoria.html?nombre=Heladeras">Heladeras</a></li>
        <li class="has-submenu">
            <a href="categoria.html?nombre=Tv y audio">Tv y Audio</a>
            <ul class="submenu">
                <li><a href="categoria.html?nombre=Tv y audio&subcategoria=Tv">Tv</a></li>
                <li><a href="categoria.html?nombre=Tv y audio&subcategoria=Audio">Audio</a></li>
            </ul>
        </li>
        <li class="has-submenu">
            <a href="categoria.html?nombre=Tecnologia">Tecnología</a>
            <ul class="submenu">
                <li><a href="categoria.html?nombre=Tecnologia&subcategoria=Celulares">Celulares</a></li>
                <li><a href="categoria.html?nombre=Tecnologia&subcategoria=Tablets">Tablets</a></li>
                <li><a href="categoria.html?nombre=Tecnologia&subcategoria=Notebooks">Notebooks</a></li>
                <li><a href="categoria.html?nombre=Tecnologia&subcategoria=Impresoras">Impresoras</a></li>
            </ul>
        </li>
        <li class="has-submenu">
            <a href="categoria.html?nombre=Climatizacion">Climatización</a>
            <ul class="submenu">
                <li><a href="categoria.html?nombre=Climatizacion&subcategoria=Calefaccion electrica">Calefacción eléctrica</a></li>
                <li><a href="categoria.html?nombre=Climatizacion&subcategoria=Calefaccion a gas">Calefacción a gas</a></li>
                <li><a href="categoria.html?nombre=Climatizacion&subcategoria=Ventilacion">Ventilación</a></li>
                <li><a href="categoria.html?nombre=Climatizacion&subcategoria=Aires acondicionados">Aires Acondicionados</a></li>
            </ul>
        </li>
        <li class="has-submenu">
            <a href="categoria.html?nombre=Hornos, microondas y freidoras">Hornos, Microondas<br>y freidoras</a>
            <ul class="submenu">
                <li><a href="categoria.html?nombre=Hornos, microondas y freidoras&subcategoria=Hornos">Hornos</a></li>
                <li><a href="categoria.html?nombre=Hornos, microondas y freidoras&subcategoria=Microondas">Microondas</a></li>
                <li><a href="categoria.html?nombre=Hornos, microondas y freidoras&subcategoria=Freidoras">Freidoras</a></li>
            </ul>
        </li>
        <li class="has-submenu">
            <a href="categoria.html?nombre=Lavado">Lavado</a>
            <ul class="submenu">
                <li><a href="categoria.html?nombre=Lavado&subcategoria=Lavarropas">Lavarropas</a></li>
                <li><a href="categoria.html?nombre=Lavado&subcategoria=Lavasecarropas">Lavasecarropas</a></li>
                <li><a href="categoria.html?nombre=Lavado&subcategoria=Secarropas">Secarropas</a></li>
                <li><a href="categoria.html?nombre=Lavado&subcategoria=Planchas">Planchas</a></li>
            </ul>
        </li>
        <li class="has-submenu">
            <a href="categoria.html?nombre=Termotanques y calefones">Termotanques<br>y calefones</a>
            <ul class="submenu">
                
                <li><a href="categoria.html?nombre=Termotanques y calefones&subcategoria=Termotanques">Termotanques</a></li>
                <li><a href="categoria.html?nombre=Termotanques y calefones&subcategoria=Calefones">Calefones</a></li>
            </ul>
        </li><li class="has-submenu">
            <a href="categoria.html?nombre=Pequeños">Pequeños<br>electrodomésticos</a>
            <ul class="submenu">
                <li><a href="categoria.html?nombre=Pequeños&subcategoria=batidoras">batidoras</a></li>
                <li><a href="categoria.html?nombre=Pequeños&subcategoria=Licuadoras">Licuadoras</a></li>
                <li><a href="categoria.html?nombre=Pequeños&subcategoria=Multiprocesadoras">Multiprocesadoras</a></li>
                <li><a href="categoria.html?nombre=Pequeños&subcategoria=Mixers">Mixers</a></li>
                <li><a href="categoria.html?nombre=Pequeños&subcategoria=pavas electricas">pavas electricas</a></li>
                <li><a href="categoria.html?nombre=Pequeños&subcategoria=Cafeteras">Cafeteras</a></li>
                <li><a href="categoria.html?nombre=Pequeños&subcategoria=Tostadoras">Tostadoras</a></li>
                <li><a href="categoria.html?nombre=Pequeños&subcategoria=Sandwicheras">Sandwicheras</a></li>
                <li><a href="categoria.html?nombre=Pequeños&subCategoria=Exprimidores y jugueras">Exprimidores y Jugueras</a></li>
                <li><a href="categoria.html?nombre=Pequeños&subcategoria=Picadoras">Picadoras</a></li>
                <li><a href="categoria.html?nombre=Pequeños&subcategoria=Aspiradoras">Aspiradoras</a></li>
            </ul>
        </li>
        <li class="has-submenu">
            <a href="categoria.html?nombre=Cuidado personal">Cuidado Personal</a>
            <ul class="submenu">
                <li><a href="categoria.html?nombre=Cuidado personal&subcategoria=Planchas de pelo">Planchas de Pelo</a></li>
                <li><a href="categoria.html?nombre=Cuidado personal&subcategoria=Secadores de pelo">Secadores de Pelo</a></li>
                <li><a href="categoria.html?nombre=Cuidado personal&subcategoria=Cortadoras de pelo y barba">Cortadoras de Pelo y Barba</a></li>
            </ul>
        </li>
        <li class="has-submenu">
            <a href="categoria.html?nombre=Hogar, jardín y tiempo libre">Hogar, jardín y tiempo libre</a>
            <ul class="submenu">
                <li><a href="categoria.html?nombre=Hogar, jardín y tiempo libre&subcategoria=Colchones">Colchones</a></li>
                <li><a href="categoria.html?nombre=Hogar, jardín y tiempo libre&subcategoria=Sommiers">Sommiers</a></li>
                <li><a href="categoria.html?nombre=Hogar, jardín y tiempo libre&subcategoria=Almohadas">Almohadas</a></li>
                <li><a href="categoria.html?nombre=Hogar, jardín y tiempo libre&subcategoria=Jardín">Jardín</a></li>
                <li><a href="categoria.html?nombre=Hogar, jardín y tiempo libre&subcategoria=Bicicletas">Bicicletas</a></li>
            </ul>
        </li>
    </ul>
</nav>
        </div>
    </header>


    <main class="container contact-page">
        <section class="contact-section">
            <h2>Contactanos</h2>
            <p>Si te interesa alguno de nuestros productos, podés consultarnos precios y costos de envío:</p>

            <!-- Formulario -->
            <div class="contact-form">
    <h3>Generar Presupuesto</h3>
    <form id="budget-form">
        <div class="form-group">
            <label for="code">Código del Producto (obligatorio)*</label>
            <input type="text" id="code" name="code" required>
            <p id="product-info" style="color: #333; margin-top: 5px;"></p> <!-- Mostrará el producto encontrado -->
        </div>
        <div class="form-group">
            <label for="phone">Teléfono (obligatorio, para enviar el presupuesto por WhatsApp)*</label>
            <input type="tel" id="phone" name="phone" pattern="[0-9]{10,}" placeholder="Ej: 5491131680489" required>
        </div>
        <div class="form-group">
            <label for="name">Nombre del Cliente (opcional)</label>
            <input type="text" id="name" name="name">
        </div>
        <div class="form-group">
            <label for="observations">Observaciones</label>
            <textarea id="observations" name="observations"></textarea>
        </div>
        <div class="form-group">
            <label for="seller">Vendedor (obligatorio)*</label>
            <input type="text" id="seller" name="seller" required>
        </div>
        <div>
            <p><br>Al enviar tu mensaje aceptas las políticas de privacidad y das tu consentimiento para que Center Hogar Quilmes te contacte.</p>
        </div>
        <button type="submit" class="buy-btn">Enviar Presupuesto</button>
    </form>
    <p id="form-message" style="display: none; color: #FF6200;"></p>
    <p>¿No usas WhatsApp? <a href="mailto:chquilmes1260@gmail.com?subject=Consulta%20desde%20Center%20Hogar%20Quilmes">Contáctanos por correo</a></p>
</div>
<p id="form-message" style="display: none; color: #FF6200;"></p>
                <p id="form-message" style="display: none; color: #FF6200;"></p>
                <p id="form-message" style="display: none; color: #FF6200;"></p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
    <div class="container">
        <p>© 2025 Center Hogar Quilmes. Todos los derechos reservados.</p>
        <ul>
            <li><a href="terminos.html">Términos y condiciones</a></li>
            <li><a href="contacto.html">Contacto</a></li>
            <li><a href="privacidad.html">Privacidad</a></li>
            <li><a href="garantia.html">Políticas de garantías</a></li>
        </ul>
    </div>
    </footer>

    <!-- Botón flotante para volver arriba -->
    <button class="scroll-to-top" title="Volver arriba">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 19V5"></path>
            <path d="M5 12l7-7 7 7"></path>
        </svg>
    </button>

    <!-- Scripts -->
    <script src="productos.js"></script>
    <script src="scripts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script>

    let products = [];

async function loadProducts() {
    try {
        const response = await fetch('/productos.csv'); // Archivo en la raíz del proyecto
        const csvText = await response.text();
        products = parseCSV(csvText);
        console.log('Productos cargados:', products);
    } catch (error) {
        console.error('Error al cargar productos:', error);
    }
}

function parseCSV(csvText) {
    const lines = csvText.trim().split('\n');
    const headers = lines[0].split(';').map(header => header.replace(/"/g, '').trim());
    const result = [];
    
    for (let i = 1; i < lines.length; i++) {
        const data = lines[i].split(';').map(item => item.replace(/"/g, '').trim());
        result.push({
            code: data[0], // Artículo
            description: data[1], // Descripción
            price: parseFloat(data[6]) // Precio tarjeta
        });
    }
    
    return result;
}

function findProductByCode(code) {
    return products.find(product => product.code === code);
}



document.addEventListener('DOMContentLoaded', () => {
    // Cargar productos al iniciar
    loadProducts();

    // Validar código del producto en tiempo real
    const codeInput = document.getElementById('code');
    const productInfo = document.getElementById('product-info');
    codeInput.addEventListener('input', () => {
        const code = codeInput.value.trim();
        if (code) {
            const product = findProductByCode(code);
            if (product) {
                productInfo.textContent = `Producto: ${product.description} - Precio: $${product.price.toLocaleString('es-AR')}`;
                productInfo.style.color = '#333';
            } else {
                productInfo.textContent = 'Producto no encontrado';
                productInfo.style.color = '#FF6200';
            }
        } else {
            productInfo.textContent = '';
        }
    });

    // Manejar el envío del formulario
    const form = document.getElementById('budget-form');
    const formMessage = document.getElementById('form-message');
    form.addEventListener('submit', (e) => {
        e.preventDefault();

        const code = document.getElementById('code').value.trim();
        const phone = document.getElementById('phone').value.trim();
        const name = document.getElementById('name').value.trim();
        const observations = document.getElementById('observations').value.trim();
        const seller = document.getElementById('seller').value.trim();

        // Validar el código del producto
        const product = findProductByCode(code);
        if (!product) {
            formMessage.textContent = 'Por favor, ingrese un código de producto válido.';
            formMessage.style.display = 'block';
            return;
        }

        // Formatear el mensaje para WhatsApp
        let message = `Presupuesto de Center Hogar Quilmes\n\n` +
                     (name ? `Cliente: ${name}\n` : '') +
                     `Producto: ${product.description}\n` +
                     `Código: ${code}\n` +
                     `Precio: $${product.price.toLocaleString('es-AR')}\n` +
                     (observations ? `Observaciones: ${observations}\n` : '') +
                     `Vendedor: ${seller}`;

        // Codificar el mensaje para la URL
        const encodedMessage = encodeURIComponent(message);
        const whatsappUrl = `https://api.whatsapp.com/send?phone=${phone}&text=${encodedMessage}`;

        // Redirigir a WhatsApp
        window.open(whatsappUrl, '_blank');

        // Mostrar mensaje de éxito
        formMessage.textContent = 'Presupuesto enviado correctamente a WhatsApp.';
        formMessage.style.display = 'block';
        formMessage.style.color = '#28a745';

        // Limpiar el formulario
        form.reset();
        productInfo.textContent = '';
    });
});


</script>
</body>
</html>