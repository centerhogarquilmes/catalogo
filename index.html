<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Center Hogar Quilmes</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="images/logo.webp" type="image/x-icon">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="images/logo_trans.png" alt="Center Hogar Quilmes" class="logo-img">
                    </a>
                </div>
                <div class="header-actions">
                    <div class="user-options">
                        <a href="presupuesto.html" class="user-link" title="Pedir presupuesto" aria-label="Pedir presupuesto">
                            <span class="icon">üìù</span>
                            <span class="label">Pedir presupuesto</span>
                        </a>
                        <a href="contacto.html" class="cart-link" title="Contacto" aria-label="Contacto">
                            <span class="icon">üì±</span>
                            <span class="label">Contacto</span>
                        </a>
                    </div>
                    <button class="menu-toggle" aria-label="Abrir men√∫ de navegaci√≥n">‚ò∞</button>
                </div>
            </div>
            <div class="search-bar">
                <div class="search-bar-input-container">
                    <input type="text" placeholder="Buscar productos..." id="searchInput" autocomplete="off">
                    <button class="search-btn">
                        <img src="images/lupa.png" alt="Buscar" class="search-icon">
                    </button>
                </div>
                <div class="suggestions" id="suggestions" style="display: none;"></div>
            </div>
            <nav class="nav-menu" id="nav-menu">
                <ul>
                    <li><a href="categoria.html?nombre=Cocinas">Cocinas</a></li>
                    <li><a href="categoria.html?nombre=Heladeras">Heladeras</a></li>
                    <li><a href="categoria.html?nombre=Televisores">Televisores</a></li>
                    <li><a href="categoria.html?nombre=Celulares">Celulares</a></li>
                    <li><a href="categoria.html?nombre=Hornos y microondas">Hornos y microondas</a></li>
                    <li><a href="categoria.html?nombre=Lavarropas y secarropas">Lavarropas y secarropas</a></li>
                    <li><a href="categoria.html?nombre=Peque√±os electrodom√©sticos">Peque√±os electrodom√©sticos</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- Main Content -->
    <main class="container">
        
<!-- Banner Carousel -->
<section class="banner">
    <div class="carousel">
        <div class="carousel-slides">
            <div class="slide active">
                <img src="images/logo.png" alt="Logo" onerror="this.onerror=null; this.src='images/nomedia_trans.png';">
            </div>
            <div class="slide">
                <img src="carrusel/creditos_personales.webp" alt="Creditos personales" onerror="this.onerror=null; this.src='images/nomedia_trans.png';">
            </div>
            <div class="slide">
                <img src="carrusel/Tarjeta_Naranja_2025.webp" alt="9 Cuotas Sin Interes" onerror="this.onerror=null; this.src='images/nomedia_trans.png';">
            </div>
            <div class="slide">
                <img src="carrusel/termotanques_descuento_20.jpg" alt="Termotanques Descuento" onerror="this.onerror=null; this.src='images/nomedia_trans.png';">
            </div>
            <div class="slide">
                <img src="carrusel//HeladeraSamsungRT42_cuota_simple.webp" alt="Heladera Samsung RT42" onerror="this.onerror=null; this.src='images/nomedia_trans.png';">
            </div>
            <div class="slide">
                <img src="carrusel/kohinoor_banner.webp" alt="Kohinoor Banner" onerror="this.onerror=null; this.src='images/nomedia_trans.png';">
            </div>
            <div class="slide">
                <img src="carrusel/pava_noulinex_cuota_simple.webp" alt="Kohinoor Banner" onerror="this.onerror=null; this.src='images/nomedia_trans.png';">
            </div>
            <div class="slide">
                <img src="carrusel/Lavarropas_BGH.webp" alt="Kohinoor Banner" onerror="this.onerror=null; this.src='images/nomedia_trans.png';">
            </div>
        </div>
        <button class="carousel-btn prev">‚ùÆ</button>
        <button class="carousel-btn next">‚ùØ</button>
        <div class="carousel-indicators">
            <span class="indicator active" data-slide="0"></span>
            <span class="indicator" data-slide="1"></span>
            <span class="indicator" data-slide="2"></span>
            <span class="indicator" data-slide="3"></span>
            <span class="indicator" data-slide="4"></span>
            <span class="indicator" data-slide="5"></span>
            <span class="indicator" data-slide="6"></span>
            <span class="indicator" data-slide="7"></span>
            <span class="indicator" data-slide="8"></span>
        </div>
    </div>
</section>

        <!-- Product Catalog -->
<section class="catalog">
    <h2>Destacados del mes</h2>
    <div class="product-grid">
        <!-- Las tarjetas se generar√°n con JavaScript -->
    </div>
</section>
    </main>

    <!-- Footer -->
    <footer class="footer">
    <div class="container">
        <p>¬© 2025 Center Hogar Quilmes. Todos los derechos reservados.</p>
        <ul>
            <li><a href="terminos.html">T√©rminos y condiciones</a></li>
            <li><a href="contacto.html">Contacto</a></li>
            <li><a href="privacidad.html">Privacidad</a></li>
        </ul>
    </div>
    </footer>

<!-- Bot√≥n flotante para volver arriba -->
<button class="scroll-to-top" title="Volver arriba">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 19V5"></path>
        <path d="M5 12l7-7 7 7"></path>
    </svg>
</button>

    <!-- Script -->
<script src="productos.js"></script>
<script src="scripts.js"></script>
<script>
    // Funcionalidad del carrusel
    const slides = document.querySelectorAll('.slide');
    const indicators = document.querySelectorAll('.indicator');
    const prevBtn = document.querySelector('.carousel-btn.prev');
    const nextBtn = document.querySelector('.carousel-btn.next');
    const carouselSlides = document.querySelector('.carousel-slides');
    let currentSlide = 0;
    const totalSlides = slides.length;
    let autoSlideInterval;

    function showSlide(index) {
        if (index >= totalSlides) {
            currentSlide = 0;
        } else if (index < 0) {
            currentSlide = totalSlides - 1;
        } else {
            currentSlide = index;
        }

        slides.forEach((slide, i) => {
            slide.classList.toggle('active', i === currentSlide);
        });

        indicators.forEach((indicator, i) => {
            indicator.classList.toggle('active', i === currentSlide);
        });
    }

    function startAutoSlide() {
        autoSlideInterval = setInterval(() => {
            showSlide(currentSlide + 1);
        }, 5000);
    }

    function stopAutoSlide() {
        clearInterval(autoSlideInterval);
    }

    prevBtn.addEventListener('click', () => {
        stopAutoSlide();
        showSlide(currentSlide - 1);
        startAutoSlide();
    });

    nextBtn.addEventListener('click', () => {
        stopAutoSlide();
        showSlide(currentSlide + 1);
        startAutoSlide();
    });

    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            stopAutoSlide();
            showSlide(index);
            startAutoSlide();
        });
    });

    // Deslizamiento t√°ctil para cambiar diapositivas
    let touchStartX = 0;
    let touchEndX = 0;

    carouselSlides.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].clientX;
        stopAutoSlide(); // Pausar el deslizamiento autom√°tico al tocar
    });

    carouselSlides.addEventListener('touchmove', (e) => {
        touchEndX = e.touches[0].clientX;
    });

    carouselSlides.addEventListener('touchend', () => {
        const swipeDistance = touchEndX - touchStartX;
        const swipeThreshold = 50; // Umbral de p√≠xeles para considerar un deslizamiento

        if (Math.abs(swipeDistance) > swipeThreshold) {
            if (swipeDistance > 0) {
                // Deslizar a la derecha: diapositiva anterior
                showSlide(currentSlide - 1);
            } else {
                // Deslizar a la izquierda: diapositiva siguiente
                showSlide(currentSlide + 1);
            }
        }
        startAutoSlide(); // Reanudar el deslizamiento autom√°tico
    });

    startAutoSlide();

    // Generar tarjetas de productos destacados din√°micamente
    const productGrid = document.querySelector('.product-grid');
    productGrid.innerHTML = ''; // Limpiar cualquier contenido est√°tico
    const productosDestacadosFiltrados = productos
        .filter(producto => productosDestacados.includes(producto.codigo))
        .slice(0, 5); // Limitar a 5 productos
    productosDestacados.forEach(codigo => {
        if (!productos.some(producto => producto.codigo === codigo)) {
            console.warn(`El c√≥digo ${codigo} en productosDestacados no coincide con ning√∫n producto.`);
        }
    });
    if (productosDestacadosFiltrados.length === 0) {
        productGrid.innerHTML = '<p>No se encontraron productos destacados.</p>';
    } else {
        productosDestacadosFiltrados.forEach(producto => {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.innerHTML = `
                <a href="producto.html?nombre=${encodeURIComponent(producto.nombre)}&imagen=${producto.imagen}&imagenes=${producto.imagenes.join(',')}&descripcion=${encodeURIComponent(producto.descripcion)}&caracteristicas=${producto.caracteristicas.map(c => encodeURIComponent(c)).join(',')}">
                    <img src="${producto.imagen}" alt="${producto.nombre}" onerror="this.onerror=null; this.src='images/nomedia_trans.png';">
                    <h3>${producto.nombre}</h3>
                    <p class="product-code">C√≥digo: ${producto.codigo}</p>
                    <button class="buy-btn">Ver m√°s</button>
                </a>
            `;
            productGrid.appendChild(card);
        });
    }

    // Manejar la barra de b√∫squeda y sugerencias
    document.getElementById('searchInput').addEventListener('input', function () {
        const query = this.value.toLowerCase();
        const suggestions = document.getElementById('suggestions');
        suggestions.innerHTML = '';
        suggestions.style.display = 'none';

        if (query.length > 0) {
            const filteredProducts = productos.filter(producto =>
                producto.nombre.toLowerCase().includes(query) ||
                producto.descripcion.toLowerCase().includes(query)
            );

            if (filteredProducts.length > 0) {
                filteredProducts.slice(0, 5).forEach(producto => {
                    const div = document.createElement('div');
                    div.textContent = producto.nombre;
                    div.addEventListener('click', () => {
                        window.location.href = `producto.html?nombre=${encodeURIComponent(producto.nombre)}&imagen=${producto.imagen}&imagenes=${producto.imagenes.join(',')}&descripcion=${encodeURIComponent(producto.descripcion)}&caracteristicas=${producto.caracteristicas.map(c => encodeURIComponent(c)).join(',')}`;
                    });
                    suggestions.appendChild(div);
                });
                suggestions.style.display = 'block';
            }
        }
    });

    // Cerrar sugerencias al hacer clic fuera
    document.addEventListener('click', function (e) {
        const searchBar = document.querySelector('.search-bar');
        if (!searchBar.contains(e.target)) {
            document.getElementById('suggestions').style.display = 'none';
        }
    });

    // Redirigir al hacer clic en el bot√≥n de b√∫squeda
    document.querySelector('.search-btn').addEventListener('click', function () {
        const query = document.getElementById('searchInput').value;
        if (query) {
            window.location.href = `busqueda.html?query=${encodeURIComponent(query)}`;
        }
    });

    // Redirigir al presionar Enter
    document.getElementById('searchInput').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            const query = this.value;
            if (query) {
                window.location.href = `busqueda.html?query=${encodeURIComponent(query)}`;
            }
        }
    });
</script>
</body>
</html>